GFS DA RELEASE NOTES (v15.2.0)

GIT TAG 
   * The GFS DA v15.2 component is in NOAA VLAB gerrit:ProdGSI.  The GFS DA v15.2 tag is intended to 
     be installed as part of the entire GFS v15.2 package.   Please see GFS v15.2 release notes for
     name and location of the GFS v15.2 tag in NOAA VLAB gerrit.   The GFS v15.2 tag contains a 
     checkout script which checks out the GFS DA v15.2 tag, fv3da_gfsv15.2.0




DOC CHANGES 
   * Update Release_Notes.fv3gfs_da.v15.0.0.txt to reflect GFS DA v15.2 changes




CODE CHANGES
   * global_gsi source code changes in src/
     * guess_grids.F90 - add array to hold guess geopotential height at level interfaces
     * ncepnems_io.f90 - use guess geopotential height at level interfaces in computation of delz increment
     * read_files.f90 - make changes requested by Bugzilla ticket 894 (enchanced error messages)
     * read_gps.f90 - add ability to process data from new GNSSRO missions (COSMIC-2, Metop-C, PAZ)
     * read_guess.F90 - save guess geopotential height at level interface for use in write_atm
     * read_obs.F90 - add ability to process data from KOMPSAT-5 and new GNSSRO missions (COSMIC-2, Metop-C, PAZ)
                      and new VIIRS bufr format
     * read_satwnd.f90 - add code to handle new VIIRS bufr format
     * setupbend.f90 - add ability to process data from new GNSSRO missions (COSMIC-2, Metop-C, PAZ)
     * setupref.f90 - add ability to process data from new GNSSRO missions (COSMIC-2, Metop-C, PAZ)
   * global_gsi and global_enkf library change
     * cmake/Modules/platforms/WCOSS-Dell.cmake - update to BUFR_VER "11.3.0"
     * modulefiles/modulefile.ProdGSI.wcoss_d - update to bufr/11.3.0
     * modulefiles/modulefile.gdas_enkf.dell - update to bufr/11.3.0
     * modulefiles/modulefile.global_gsi.dell - update to bufr/11.3.0




JOB CHANGES
   * None




SCRIPT CHANGES
   * Minimization Monitoring changes in util/Minimization_Monitor/nwprod/{gdas,gfs}.v1.0.0/scripts/
     * exgdas_vrfminmon.sh.ecf - check current directory for gnorm_data.txt before checking previous day
     * exgfs_vrfminmon.sh.ecf - check current directory for gnorm_data.txt before checking previous day




PARM CHANGES
   * Remove Phase1/2 references from Monitoring configuration files
     * util/Conventional_Monitor/parm/CMon_config - remove reference to COMROOTp1
     * util/Minimization_Monitor/parm/MinMon_config - remove reference to COMROOTp1
     * util/Radiance_Monitor/parm/RadMon_config - remove reference to COMROOTp1




FIX CHANGES
   * fix/global_convinfo.txt
     * place GOES-16 AMV in monitor mode
     * assimilate GOES-17 AMV
     * set GOES VIS AMV usage flag to -3
     * assimilate KOMPSAT-5 GPS-RO
     * monitor Metop-C GPS-RO
   * fix/global_satinfo.txt
      * assimilate Metop-C AMSUA
      * assimilate Metop-C MHS




RESOURCE INFORMATION
   * Due to the prcessing of additional observational data the run time for the following jobs is increased
      * gfs_analysis               : about 30 seconds longer (27.4 minutes for GFS v15.1 -vs- 27.9 minutes for GFS v15.2)
      * gdas_analysis_high         : GFS v15.2 run time comparable to GFS v15.1
      * gdas_enkf_select_obs       : about 1 minute longer   (3.7 for GFS v15.1  -vs-  4.7 for GFS v15.2)
      * gdas_enkf_innovate_obs_grp*: about 30 seconds longer (14.8 for GFS v15.1 -vs- 15.3 for GFS v15.2)
      * gdas_enkf_update           : about 20 seconds longer (6.4 for GFS v15.1  -vs-  6.7 for GFS v15.2)




PRE-IMPLEMENTATION TESTING REQUIREMENTS
   * Which production jobs should be tested as part of this implementation?
      * The GFS DA v15.2 component runs within the GFS v15.2.  A single cycle 
        test of GFS v15.2 will exercise GFS DA v15.2 jobs.

   * Does this change require a 30-day evaluation?
      * No.


   * Suggested evaluators
      * EMC DA developers



DISSEMINATION INFORMATION
   * Where should this output be sent?
      * No change from GFS v15.1


   * Who are the users?
      * No change from GFS v15.1


   * Which output files should be transferred from PROD WCOSS to DEV WCOSS?
      * No change from GFS v15.1


   * Directory changes
      * No change from GFS v15.1


   * File changes.  Only GFS DA v15.2 file changes are listed below.
      * No change from GFS v15.1




HPSS ARCHIVE
   * Retention length?
      * No change from GFS v15.1


   * List which output files should be archived
      * No change from GFS v15.1
          


IMPLEMENTATION INSTRUCTIONS
   * Please note that the DA components must be installed in conjunction with the entire GFS v15.2 package.  
     Thus, the implementation instructions below extract the entire GFS v15.2 package.   The GFS v15.2
     package is tagged in NOAA VLAB gerrit:global-workflow as feature/dev-v15.2.   Implementation 
     instructions for this tag follow below:

      1) cd  $NWROOTp3

      2) mkdir $NWROOTp3/gfs.v15.2.0

      3) cd $NWROOTp3/gfs.v15.2.0

      4) git clone --recursive gerrit:global-workflow .
         * Notes:
            * The "." after global-workflow is important.  It tells git to clone global-workflow into the 
              local working directory $NWROOTp3/gfs.v15.2.0.
            * The SPA(s) handling the GFS v15.2 implementation may encounter "permission denied" messages when 
             attempting to clone Vlab gerrit repositories.  Code managers need to add the SPA(s) as project 
             developers.  For GFS DA v15.2 please contact Michael.Lueken@noaa.gov or Mark.Potts@noaa.gov. 

      5) git checkout feature/dev-v15.2

      6) cd sorc

      7) ./checkout.sh
         * This script extracts the following GFS v15.2 components from gerrit:  model, DA, UPP, and WAFS.
           Output for the check out of each component is written to local file sorc/checkout-$package.log,
           where package = {fv3gfs, gfs_post, gfs_wafs, gsi}.

      8) ./build_all.sh
         * Script build_all.sh compiles all GFS v15.2 components.   Runtime output from the build for each 
           package is written to log files in directory logs.  Specifically, GFS DA v15.2 build information 
           is written to logs/build_gsi.log.  Script build_gsi.sh invokes gsi.fd/ush/build_all_cmke.sh.
           This script uses cmake to build GFS DA v15.2 components.   Script build_all_cmake.sh accepts two 
           command line options:  build type and directory path to package.  Two build types are 
           supported - PRODUCTION (default) and DEBUG.

      9) ./link_fv3gfs.sh nco dell



JOB DEPENDENCIES & FLOW DIAGRAM
   * no change from GFS v15.1.0
